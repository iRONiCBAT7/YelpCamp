<% layout("layouts/boilerplate")%>
<!-- <style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; height: 500px;}
</style>
 -->

<style>
#menu {
position: absolute;
background: #efefef;
padding: 10px;
font-family: 'Open Sans', sans-serif;
}
</style>
 
<div id="cluster-map" style="border-radius: 1.2em;"></div>
<!-- <div id="map"></div> -->
 

	<br>

	<h1 style="text-align: center; font-weight: 400;">All Campgrounds</h1>

	<hr/>


		 <% for(let campground of campgrounds)  { %>
		 	
		 		<div class="card mb-3" >
		 			<div class="row" >
		 				<div class="col-md-4" >
		 					<% if(campground.images.length){ %>
		 					<img crossorigin="anonymous"  src="<%= campground.images[0].url %>" class="img-fluid" alt="">
		 					<%}else{%>
		 					<img crossorigin="anonymous" src="https://res.cloudinary.com/df5bkgc9n/image/upload/w_500/v1684462822/images/GimgDesigned_jcjo5m.png" class="img-fluid" alt="">
		 					<%}%>
		 				</div>

		 				<div class="col-md-8">
		 					<div class="card-body" >
		 						<h5 class="card-title" style="font-weight: 600;"> <%= campground.title %> </h5>
		 						<p class="card-text" style="font-weight: 400;"><%= campground.description %></p>
		 						<p class="card-text">
		 							<small class="text-muted" style="font-weight: 500;"><%= campground.location%></small>
		 						</p>
		 						<a class="btn btn-primary" target="_blank" href="/campgrounds/<%= campground._id %>"> View Image</a>
		 					</div>
		 				</div>
		 			</div>
		 		</div>
		 <% } %>







<script>
	const mapToken = "<%- process.env.MAPBOX_TOKEN %>";
	const campgrounds = {features: <%- JSON.stringify(campgrounds) %>};
</script>

	
<script src="/javascripts/clusterMapbox.js"></script>